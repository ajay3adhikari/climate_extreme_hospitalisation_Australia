"0",""
"0","# extreme weather-related hospitalisation from 2019-20 to 2021-22 - state level"
"0",""
"0","# import data"
"0","state_hospitalisation <- readxl::read_xlsx(""./data/aihw_extreme_weather_injury.xlsx"","
"0","                                           sheet = ""DataTable4"", skip = 1) |> "
"0","  rename(hazard = `...1`, National = Total) |> "
"0","  slice(1:4)"
"0",""
"0","# hazard dominance across states"
"0","hazard_dom <- state_hospitalisation |> "
"0","  select(- National) |> "
"0","  mutate(across(c(2:9), \(x) round(x / sum(x) * 100, digits = 1))) |> "
"0","  pivot_longer(cols = c(2:9), names_to = ""state"", values_to = ""perc"")"
"0",""
"0","ggplot(hazard_dom) +"
"0","  geom_bar(stat = ""identity"", aes(tidytext::reorder_within(hazard, -perc, state), perc, fill = hazard)) +"
"0","  tidytext::scale_x_reordered() +"
"0","  facet_wrap(vars(state), scales = ""free_x"") +"
"0","  labs(title = ""Attribution of hospitalisation to climate hazards, 2019–20 to 2021–22"","
"0","       x = """",y = ""Percent, %"") +"
"0","  theme_minimal(base_size = 12) +"
"0","  theme(legend.position = ""none"","
"0","        plot.title = element_text(face = ""bold""))"
